{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nconst useWebSocket = url => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [socket, setSocket] = useState(null);\n  useEffect(() => {\n    const ws = new WebSocket(url);\n    setSocket(ws);\n    ws.onmessage = event => {\n      const message = JSON.parse(event.data);\n      setMessages(prevMessages => [...prevMessages, message]);\n    };\n    return () => {\n      ws.close();\n    };\n  }, [url]);\n  const sendMessage = message => {\n    if (socket && socket.readyState === WebSocket.OPEN) {\n      socket.send(JSON.stringify(message));\n    }\n  };\n  return {\n    messages,\n    sendMessage\n  };\n};\n_s(useWebSocket, \"0MbKzFx+OKNdOU5qFCjPjQZWhEE=\");\nexport default useWebSocket;","map":{"version":3,"names":["useEffect","useState","useWebSocket","url","_s","messages","setMessages","socket","setSocket","ws","WebSocket","onmessage","event","message","JSON","parse","data","prevMessages","close","sendMessage","readyState","OPEN","send","stringify"],"sources":["C:/Users/HIMANSHU SINGH/Downloads/pdf-co-viewer/client/src/hooks/useWebSocket.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nconst useWebSocket = (url) => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [socket, setSocket] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const ws = new WebSocket(url);\r\n    setSocket(ws);\r\n\r\n    ws.onmessage = (event) => {\r\n      const message = JSON.parse(event.data);\r\n      setMessages((prevMessages) => [...prevMessages, message]);\r\n    };\r\n\r\n    return () => {\r\n      ws.close();\r\n    };\r\n  }, [url]);\r\n\r\n  const sendMessage = (message) => {\r\n    if (socket && socket.readyState === WebSocket.OPEN) {\r\n      socket.send(JSON.stringify(message));\r\n    }\r\n  };\r\n\r\n  return { messages, sendMessage };\r\n};\r\n\r\nexport default useWebSocket;"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,MAAMC,YAAY,GAAIC,GAAG,IAAK;EAAAC,EAAA;EAC5B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACM,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAE1CD,SAAS,CAAC,MAAM;IACd,MAAMS,EAAE,GAAG,IAAIC,SAAS,CAACP,GAAG,CAAC;IAC7BK,SAAS,CAACC,EAAE,CAAC;IAEbA,EAAE,CAACE,SAAS,GAAIC,KAAK,IAAK;MACxB,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACH,KAAK,CAACI,IAAI,CAAC;MACtCV,WAAW,CAAEW,YAAY,IAAK,CAAC,GAAGA,YAAY,EAAEJ,OAAO,CAAC,CAAC;IAC3D,CAAC;IAED,OAAO,MAAM;MACXJ,EAAE,CAACS,KAAK,CAAC,CAAC;IACZ,CAAC;EACH,CAAC,EAAE,CAACf,GAAG,CAAC,CAAC;EAET,MAAMgB,WAAW,GAAIN,OAAO,IAAK;IAC/B,IAAIN,MAAM,IAAIA,MAAM,CAACa,UAAU,KAAKV,SAAS,CAACW,IAAI,EAAE;MAClDd,MAAM,CAACe,IAAI,CAACR,IAAI,CAACS,SAAS,CAACV,OAAO,CAAC,CAAC;IACtC;EACF,CAAC;EAED,OAAO;IAAER,QAAQ;IAAEc;EAAY,CAAC;AAClC,CAAC;AAACf,EAAA,CAzBIF,YAAY;AA2BlB,eAAeA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}