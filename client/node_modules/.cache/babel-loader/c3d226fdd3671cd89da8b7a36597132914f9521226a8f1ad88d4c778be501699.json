{"ast":null,"code":"var _s = $RefreshSig$();\n// client/src/hooks/useWebSocket.js\nimport { useEffect, useState } from 'react';\nconst useWebSocket = url => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [ws, setWs] = useState(null);\n  useEffect(() => {\n    const websocket = new WebSocket(url);\n    websocket.onopen = () => {\n      console.log('WebSocket is connected');\n    };\n    websocket.onmessage = event => {\n      const message = JSON.parse(event.data);\n      setMessages(prevMessages => [...prevMessages, message]);\n    };\n    websocket.onclose = () => {\n      console.log('WebSocket is closed');\n    };\n    setWs(websocket);\n    return () => {\n      websocket.close();\n    };\n  }, [url]);\n  const sendMessage = message => {\n    if (ws) {\n      ws.send(JSON.stringify(message));\n    }\n  };\n  return {\n    messages,\n    sendMessage\n  };\n};\n_s(useWebSocket, \"x2KFYScCPNk8RAb1Lw+o0oeCI2s=\");\nexport default useWebSocket;","map":{"version":3,"names":["useEffect","useState","useWebSocket","url","_s","messages","setMessages","ws","setWs","websocket","WebSocket","onopen","console","log","onmessage","event","message","JSON","parse","data","prevMessages","onclose","close","sendMessage","send","stringify"],"sources":["C:/Users/HIMANSHU SINGH/Downloads/pdf-co-viewer/client/src/hooks/useWebSocket.js"],"sourcesContent":["// client/src/hooks/useWebSocket.js\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst useWebSocket = (url) => {\r\n    const [messages, setMessages] = useState([]);\r\n    const [ws, setWs] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const websocket = new WebSocket(url);\r\n\r\n        websocket.onopen = () => {\r\n            console.log('WebSocket is connected');\r\n        };\r\n\r\n        websocket.onmessage = (event) => {\r\n            const message = JSON.parse(event.data);\r\n            setMessages((prevMessages) => [...prevMessages, message]);\r\n        };\r\n\r\n        websocket.onclose = () => {\r\n            console.log('WebSocket is closed');\r\n        };\r\n\r\n        setWs(websocket);\r\n\r\n        return () => {\r\n            websocket.close();\r\n        };\r\n    }, [url]);\r\n\r\n    const sendMessage = (message) => {\r\n        if (ws) {\r\n            ws.send(JSON.stringify(message));\r\n        }\r\n    };\r\n\r\n    return { messages, sendMessage };\r\n};\r\n\r\nexport default useWebSocket;"],"mappings":";AAAA;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,MAAMC,YAAY,GAAIC,GAAG,IAAK;EAAAC,EAAA;EAC1B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACM,EAAE,EAAEC,KAAK,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAElCD,SAAS,CAAC,MAAM;IACZ,MAAMS,SAAS,GAAG,IAAIC,SAAS,CAACP,GAAG,CAAC;IAEpCM,SAAS,CAACE,MAAM,GAAG,MAAM;MACrBC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;IACzC,CAAC;IAEDJ,SAAS,CAACK,SAAS,GAAIC,KAAK,IAAK;MAC7B,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACH,KAAK,CAACI,IAAI,CAAC;MACtCb,WAAW,CAAEc,YAAY,IAAK,CAAC,GAAGA,YAAY,EAAEJ,OAAO,CAAC,CAAC;IAC7D,CAAC;IAEDP,SAAS,CAACY,OAAO,GAAG,MAAM;MACtBT,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IACtC,CAAC;IAEDL,KAAK,CAACC,SAAS,CAAC;IAEhB,OAAO,MAAM;MACTA,SAAS,CAACa,KAAK,CAAC,CAAC;IACrB,CAAC;EACL,CAAC,EAAE,CAACnB,GAAG,CAAC,CAAC;EAET,MAAMoB,WAAW,GAAIP,OAAO,IAAK;IAC7B,IAAIT,EAAE,EAAE;MACJA,EAAE,CAACiB,IAAI,CAACP,IAAI,CAACQ,SAAS,CAACT,OAAO,CAAC,CAAC;IACpC;EACJ,CAAC;EAED,OAAO;IAAEX,QAAQ;IAAEkB;EAAY,CAAC;AACpC,CAAC;AAACnB,EAAA,CAlCIF,YAAY;AAoClB,eAAeA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}